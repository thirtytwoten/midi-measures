<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.0/d3.js"></script>
     <script type="text/javascript" src="./MidiConvert.js"></script>
    <style>
/*      body {
        font: 10px sans-serif;
      }
      .axis line {
        stroke: #000;
      }
      .axis path {
        fill: none;
        stroke: #000;
      }
      .axis + .axis g text {
        display: none;
      }*/
      path {
        fill: #ddd;
      }
    </style>
  </head>
<body>
<svg width="960" height="500">
  <g transform="translate(100,100)"></g>
</svg>
<script type="text/javascript">
var svg = d3.select("svg");

var midiData, notes, bpm;

var svg = d3.select("svg");

function getNoteLetter(note) {
  return note.name.slice(0,-1).replace('#','s');
}

MidiConvert.load("./bwv-846.midi").then(function(midi){
  midiData = midi;
  notes = midiData.tracks[2].notes;
  bpm = midiData.header.bpm;

  // for(let i = notes[0]; i <= notes[notes.length-1]; i++){
  //   svg.append("rect")
  //     .attr('id', `key${i}`)
  //     .attr("x", (i - notes[0]) * 22)
  //     .attr("y",100)
  //     .attr("width",20)
  //     .attr("height",60)
  //     .attr('fill', 'none');
  // }

});

</script>
</body>
</html>
